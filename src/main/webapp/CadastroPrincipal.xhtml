<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="_template.xhtml">
	

	<style>
.customPanelGrid {
	align-items: center;
	!
	important;
}

.custom-input-panel {
	margin-top: 10px;
	margin-bottom: 25px;
}

.custom-texto {
	
}

.custom-input {margin-top 10px;
	margin-bottom: 25px;
	margin-left: 10px;
	margin-right: 20px;
	text-align: center;
}

.custom-entrada {margin-top 2px;
	margin-bottom: 5px;
	margin-left: 10px;
	margin-right: 20px;
}

.custom-select {margin-top 15px;
	margin-bottom: 25px;
	margin-left: 10px;
	margin-right: 20px;
}

.invalido {
	border-color: red; /* Muda a cor da borda para vermelho */
}

.valido {
	border-color: green; /* Muda a cor da borda para vermelho */
}
</style>
	<ui:define name="conteudo">
		<div>


			<p:tabView>

				<!--////////////////////////////////////////////////////////////////////////-->
				<!--                     PARTE DO CADASTRO                                  -->
				<!--////////////////////////////////////////////////////////////////////////-->

				<p:tab title="Cadastrar/Editar" icon="pi pi-file">
					<h:form id="form1">
						<!-- Dados Pessoais -->
						<p:messages id="messages" showDetail="true" closable="true">
							<p:autoUpdate />
						</p:messages>

						<p:panel header="Dados Pessoais">
							<p:panelGrid columns="3" layout="grid"
								styleClass="customPanelGrid" contentStyleClass="ui-fluid">
								<p:column>
									<p:outputLabel for="nome" value="Nome Completo:" />
									<p:inputText id="nome"
										value="#{cadastroPrincipalBean.pessoa.nome}" required="true"
										styleClass="custom-input-panel" />

									<p:outputLabel for="rg" value="RG:" />
									<p:inputMask id="rg" value="#{cadastroPrincipalBean.pessoa.RG}"
										mask="99.999.999-9" placeholder="00.000.000-0" required="true"
										styleClass="custom-input-panel" />

									<p:outputLabel for="cpf" value="CPF:" />
									<p:inputMask id="cpf"
										value="#{cadastroPrincipalBean.pessoa.CPF}"
										mask="999.999.999-99" placeholder="000.000.000-00"
										required="true" styleClass="custom-input-panel">
										<p:ajax event="blur"
											listener="#{cadastroPrincipalBean.validarCPFnaHora()}" />
									</p:inputMask>
								</p:column>


								<p:column>

									<p:outputLabel for="dataNascimento" value="Data de Nascimento:" />
									<p:datePicker id="dataNascimento"
										value="#{cadastroPrincipalBean.pessoa.dataDeNascimento}"
										monthNavigator="true" yearNavigator="true" showWeek="true"
										pattern="dd/MM/yyyy" styleClass="custom-input-panel"
										yearRange="1900:2024" required="true" />

									<p:outputLabel for="sexo" value="Sexo:" />
									<p:selectOneMenu id="sexo"
										value="#{cadastroPrincipalBean.pessoa.sexo}"
										styleClass="custom-input-panel" required="true">
										<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
										<f:selectItems value="#{cadastroPrincipalBean.sexos}" />
									</p:selectOneMenu>

									<p:outputLabel for="racaCor" value="Raça/Cor:" required="true" />
									<p:selectOneMenu id="racaCor"
										value="#{cadastroPrincipalBean.pessoa.raca}"
										styleClass="custom-input-panel" required="true">
										<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
										<f:selectItems value="#{cadastroPrincipalBean.racas}" />
									</p:selectOneMenu>
								</p:column>
							</p:panelGrid>
						</p:panel>

						<!-- Dados Sociodemográficos -->
						<p:panel header="Dados Sociodemográficos">
							<p:panelGrid columns="3" layout="grid"
								styleClass="customPanelGrid" contentStyleClass="ui-fluid">
								<p:column>

									<p:outputLabel for="ocupacaoCodigo" value="Codigo(CBO):" />
									<p:inputMask id="ocupacaoCodigo"
										value="#{cadastroPrincipalBean.cbo.codigo}" mask="9999-99"
										placeholder="0000-00" required="true"
										styleClass="custom-input-panel" />

									<p:outputLabel for="ocupacao" value="Ocupação(CBO):" />
									<p:inputText id="ocupacao"
										value="#{cadastroPrincipalBean.cbo.nome}" required="true"
										styleClass="custom-input-panel" />
								</p:column>
								<p:column>
									<p:outputLabel for="grauInstrucao" value="Grau de Instrução:"
										required="true" />
									<p:selectOneMenu id="grauInstrucao"
										value="#{cadastroPrincipalBean.dados.grauDeInstrucao}"
										styleClass="custom-input-panel" required="true">
										<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
										<f:selectItems value="#{cadastroPrincipalBean.graus}"
											var="grauDeInstrucao" itemValue="#{grauDeInstrucao}"
											itemLabel="#{grauDeInstrucao.descricao}" />
									</p:selectOneMenu>

									<p:outputLabel for="beneficio" value="Beneficio:" />
									<p:inputText id="beneficio"
										value="#{cadastroPrincipalBean.beneficio.nome}"
										required="true" styleClass="custom-input-panel" />
								</p:column>
							</p:panelGrid>
						</p:panel>

						<!-- Dados de Endereço -->
						<p:panel header="Dados de Endereço">
							<p:panelGrid columns="3" layout="grid"
								styleClass="customPanelGrid" contentStyleClass="ui-fluid">
								<p:column>
									<p:outputLabel for="cep" value="CEP:" />
									<p:inputMask id="cep"
										value="#{cadastroPrincipalBean.endereco.CEP}" mask="99999-999"
										placeholder="00000-000" required="true"
										styleClass="custom-input-panel">
										<p:ajax event="change"
											update="logradouro bairro cidade estado tipoDeLogradouro"
											listener="#{cadastroPrincipalBean.buscarInformacoesCEP}" />
									</p:inputMask>

									<p:outputLabel for="estado" value="Estado:" />
									<p:selectOneMenu id="estado"
										value="#{cadastroPrincipalBean.endereco.estadoUF}"
										styleClass="custom-input-panel">
										<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
										<f:selectItems value="#{cadastroPrincipalBean.estados}"
											var="estado" itemValue="#{estado}"
											itemLabel="#{estado.descricao}" />
									</p:selectOneMenu>


									<p:outputLabel for="cidade" value="Cidade:" />
									<p:inputText id="cidade"
										value="#{cadastroPrincipalBean.endereco.cidade}"
										styleClass="custom-input-panel" />
								</p:column>

								<p:column>
									<p:outputLabel for="bairro" value="Bairro:" />
									<p:inputText id="bairro"
										value="#{cadastroPrincipalBean.endereco.bairro}"
										styleClass="custom-input-panel" />

									<p:outputLabel for="logradouro" value="Logradouro:" />
									<p:inputText id="logradouro"
										value="#{cadastroPrincipalBean.endereco.logradouro}"
										styleClass="custom-input-panel" />

									<p:outputLabel for="tipoDeLogradouro"
										value="Tipo de Logradouro:" />
									<p:inputText id="tipoDeLogradouro"
										value="#{cadastroPrincipalBean.endereco.tipoDeLogradouro}"
										styleClass="custom-input-panel" />
								</p:column>

								<p:column>
									<p:outputLabel for="numero" value="Número/SN:" />
									<p:inputText id="numero"
										value="#{cadastroPrincipalBean.endereco.numero}"
										styleClass="custom-input-panel" />
								</p:column>


							</p:panelGrid>
						</p:panel>

						<!-- Dados de Contato -->
						<p:panel header="Dados de Contato">
							<p:panelGrid columns="3" layout="grid"
								styleClass="customPanelGrid" contentStyleClass="ui-fluid">
								<p:column>
									<p:outputLabel for="telefoneum" value="Telefone 1:" />
									<p:inputMask id="telefoneum"
										value="#{cadastroPrincipalBean.pessoa.telefone1}"
										mask="(99) 99999-9999" placeholder="(00) 00000-0000"
										required="true" styleClass="custom-input-panel" />
								</p:column>

								<p:column>
									<p:outputLabel for="telefonedois"
										value="Telefone 2 (opcional):" />
									<p:inputMask id="telefonedois"
										value="#{cadastroPrincipalBean.pessoa.telefone2}"
										mask="(99) 99999-9999" placeholder="(00) 00000-0000"
										required="true" styleClass="custom-input-panel" />
								</p:column>

								<p:column>
									<p:outputLabel for="emaill" value="Email:" />
									<p:inputText id="emaill"
										value="#{cadastroPrincipalBean.pessoa.email}"
										styleClass="custom-input-panel" />
								</p:column>

							</p:panelGrid>

							<p:commandButton value="Salvar"
								action="#{cadastroPrincipalBean.finalizarCadastro()}"
								ajax="false" icon="pi pi-file-edit" update="form1" />


						</p:panel>


					</h:form>
				</p:tab>

				<!--////////////////////////////////////////////////////////////////////////-->
				<!--                     PARTE DA LISTAGEM DE DADOS                         -->
				<!--////////////////////////////////////////////////////////////////////////-->

				<p:tab title="Listar" icon="pi pi-list">
					<h:form>
						<p:messages id="messages" showDetail="true" closable="true">
							<p:autoUpdate />
						</p:messages>
						<p:panel header="Listagem">

							<p:dataTable var="pessoa"
								value="#{cadastroPrincipalBean.pessoa1}"
								filteredValue="#{cadastroPrincipalBean.filteredPessoa1}"
								filterBy="#{cadastroPrincipalBean.filterBy}"
								widgetVar="tabelaPessoas">
								<p:column field="id" headerText="ID" style="display:none;" />

								<p:column headerText="Nome" sortBy="#{pessoa.nome}"
									filterBy="#{pessoa.nome}">
									<h:outputText value="#{pessoa.nome}" />
								</p:column>

								<p:column headerText="Sexo" sortBy="#{pessoa.sexo}"
									filterBy="#{pessoa.sexo}">
									<h:outputText value="#{pessoa.sexo}" />
								</p:column>

								<p:column headerText="CPF" sortBy="#{pessoa.CPF}"
									filterBy="#{pessoa.CPF}">
									<h:outputText value="#{pessoa.CPF}" />
								</p:column>

								<p:column hearderText="" style="width:75px;">
									<p:commandButton value="Editar" ajax="false"
										icon="pi pi-pencil" outcome=""
										actionListener="#{cadastroPrincipalBean.puxarDadosEdicao(pessoa.id)}" />
								</p:column>

								<p:column headerText="" style="width:80px;">
									<p:commandButton value="Excluir" icon="pi pi-times"
										styleClass="ui-button-danger" update="@form">
										<p:confirm header="Confirmação"
											message="Tem certeza que deseja excluir?"
											icon="pi pi-info-circle" />
										<f:setPropertyActionListener
											target="#{cadastroPrincipalBean.pessoa}" value="#{pessoa}" />
										<p:ajax
											listener="#{cadastroPrincipalBean.deletarPessoaEDados(pessoa.id)}" />
									</p:commandButton>
								</p:column>

							</p:dataTable>
						</p:panel>

						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade"
							responsive="true" width="350">
							<p:commandButton value="No" type="button"
								styleClass="ui-confirmdialog-no ui-button-flat" />
							<p:commandButton value="Yes" type="button"
								styleClass="ui-confirmdialog-yes" />
						</p:confirmDialog>

					</h:form>
				</p:tab>

				<!--////////////////////////////////////////////////////////////////////////-->
				<!--                          PARTE DO RELATORIO                            -->
				<!--////////////////////////////////////////////////////////////////////////-->

				<p:tab title="Relatorio">
					<h:form>
						<p:panel header="Filtros">
							<p:panelGrid columns="4" layout="grid"
								styleClass="customPanelGrid" contentStyleClass="ui-fluid">
								<p:column>
									<p:outputLabel for="logradourooo" value="Logradouro:"
										styleClass="custom-texto" />
									<p:inputText id="logradourooo"
										value="#{cadastroPrincipalBean.endereco.logradouro}"
										styleClass="custom-input-panel" />

									<p:outputLabel for="cidadeooo" value="Cidade:" />
									<p:inputText id="cidadeooo"
										value="#{cadastroPrincipalBean.endereco.cidade}"
										styleClass="custom-input-panel" />


									<p:outputLabel for="bairroooo" value="Bairro:" />
									<p:inputText id="bairroooo"
										value="#{cadastroPrincipalBean.endereco.bairro}"
										styleClass="custom-input-panel" />
								</p:column>
								<p:column>

									<p:outputLabel for="dataNascimentoooo"
										value="Data de Nascimento:" />
									<p:datePicker id="dataNascimentoooo"
										value="#{cadastroPrincipalBean.pessoa.dataDeNascimento}"
										monthNavigator="true" yearNavigator="true" showWeek="true"
										pattern="dd/MM/yyyy" styleClass="custom-input-panel"
										yearRange="1900:2024" />

									<p:outputLabel for="sexoooo" value="Sexo:" />
									<p:selectOneMenu id="sexoooo"
										value="#{cadastroPrincipalBean.pessoa.sexo}"
										styleClass="custom-input-panel">
										<f:selectItem itemLabel="Selecione" itemValue="#{null}" />
										<f:selectItems value="#{cadastroPrincipalBean.sexos}" />
									</p:selectOneMenu>

									<p:outputLabel for="nomeoo" value="Nome:" />
									<p:inputText id="nomeoo"
										value="#{cadastroPrincipalBean.pessoa.nome}"
										styleClass="custom-input-panel" />
								</p:column>
								<p:column>
									<p:outputLabel for="beneficiooo" value="Beneficio:" />
									<p:inputText id="beneficiooo"
										value="#{cadastroPrincipalBean.beneficio.nome}"
										styleClass="custom-input-panel" />


								</p:column>
							</p:panelGrid>

							<p:commandButton value="Relatório Simples"
								action="#{cadastroPrincipalBean.gerarRelatorio('simples')}"
								ajax="false" style="margin-right:10px;" icon="pi pi-file-pdf" />
							<p:commandButton value="Relatório Completo"
								action="#{cadastroPrincipalBean.gerarRelatorio('completo')}"
								ajax="false" icon="pi pi-file-pdf" />
						</p:panel>
					</h:form>
				</p:tab>
			</p:tabView>
		</div>
	</ui:define>
</ui:composition>
</html>